<div class="log-bar"></div>
<section class="sec_activ-acount">
    <div class="algn-m">
        <img src="../../../../../assets/img/icon-mobile.svg" alt="icon-mail">
    </div>
    <div *ngIf="!toUpdate">
        <div class="text_activ-acount">
            <p>
                Hemos enviado un código de validación al número de celular terminado en {{phoneUser}}.
            </p>
        </div>
        <div (keydown.enter)="Ingresar()">
            <form [formGroup]="formPIN" autocomplete="off">
                <div class="pin">
                    <input class="otp-input" type="text" id="PIN1" formControlName="PIN1" maxlength="6" minlength="6"
                        autofocus inputmode="numeric" pattern="\d*"
                        onkeydown="return ( event.ctrlKey || event.altkey || (47 < event.keyCode && event.keyCode<58 && event.shiftKey==false) || (95 < event.keyCode && event.keyCode<106)|| (event.keyCode==8) || (event.keyCode==9) || (event.keyCode>34 && event.keyCode<40)|| (event.keyCode==46))">
                </div>
            </form>
        </div>
        <p class="fs-m mb-10 resend-otp" *ngIf="optResend && OtpSends > 0" (click)="resendOtp()">
            <span class="click-text cursor-pointer fs-m" >Reenviar código</span>
        </p>
        <p class="resend-otp fs-m mb-10" *ngIf="!optResend && OtpSends > 0">Podrás pedir otro código en {{seconds}} segundos</p>
        <p class="fs-m">
            <span (click)="toUpdate = true" class="click-text cursor-pointer fs-m">Actualizar Celular</span>
        </p>
        
        <div class="algn-m-v2 mt-10 mb-20">
            <button (click)="Ingresar()" class="form__button continue-btn-2 mt-30">
                Validar Móvil
            </button>
        </div>
    </div>
    <div *ngIf="toUpdate">
        <div class="text_activ-acount">
            <p>
                ¿No recibiste el código de seguridad? Por favor actualiza la información de tu número móvil para que puedas ingresar a nuestra plataforma.
            </p>
        </div>
        <div (keydown.enter)="update()">
            <form [formGroup]="formUpdate" autocomplete="off" class="update-form">
                <div class="disp-flex mb-10">
                    <input class="input-cel" type="text" placeholder="+57" [disabled]=true>
                    <div class="form__floating flex__all">
                        <input class="input-cel2" type="tel" autocomplete="tel" name="tel" id="celular"
                            placeholder="Número Móvil" formControlName="celular" minlength="10" maxlength="10"
                            onkeydown="return ( event.ctrlKey || event.altkey || (47 < event.keyCode && event.keyCode<58 && event.shiftKey==false) || (95 < event.keyCode && event.keyCode<106)|| (event.keyCode==8) || (event.keyCode==9) || (event.keyCode>34 && event.keyCode<40)|| (event.keyCode==46))">
                        <label for="celular">Número Móvil</label>
                    </div>
                </div>
                <div [ngClass]="{'inv':!((Celular.invalid && Celular.touched) || Celular.dirty)}">
                    <small [ngClass]="{'inv': true}" class="text-error">*</small>
                    <small *ngIf="Celular.errors?.required" class="text-error">El número móvil es requerido</small>
                    <small *ngIf="Celular.errors?.numeric || Celular.errors?.minlength" class="text-error">El
                        número móvil es inválido</small>
                </div>
                <div class="form__floating">
                    <input type="tel" autocomplete="tel" name="tel2" id="celular2"
                        placeholder="Confirmar Número Móvil" formControlName="celular2" minlength="10" maxlength="10" onpaste="return false;"
                        onkeydown="return ( event.ctrlKey || event.altkey || (47 < event.keyCode && event.keyCode<58 && event.shiftKey==false) || (95 < event.keyCode && event.keyCode<106)|| (event.keyCode==8) || (event.keyCode==9) || (event.keyCode>34 && event.keyCode<40)|| (event.keyCode==46))">
                    <label for="celular2">Confirmar Número Móvil</label>
                </div>
                <div [ngClass]="{'inv':!((Celular2.invalid && Celular2.touched) || Celular2.dirty)}">
                    <small [ngClass]="{'inv': true}" class="text-error">*</small>
                    <small *ngIf="Celular2.errors?.required" class="text-error">Confirmar número móvil es requerido</small>
                    <small *ngIf="Celular2.errors?.numeric || Celular2.errors?.minlength" class="text-error">Confirmar número móvil es inválido</small>
                </div>
            </form>
        </div>
        <div class="algn-m-v2 box-options">
            <button (click)="cancel()" class="form__button continue-btn-4 btn-options">
                Cancelar
            </button>

            <button (click)="update()" class="form__button continue-btn-2">
                Actualizar
            </button>
        </div>
    </div>
</section>